<div class="container">

	<table class="table table-bordered table-compact">
		<thead>
			<tr>
				<th>Date &amp; Time</th>
				<th>Delta</th>
				<th>Latitude &amp; Longitude</th>
				<th>Delta</th>
			</tr>
		</thead>
		<tbody>
			<?php foreach($this->feed as $position):?>
				<?php 
				$classes = array();
				
				if(isset($prev)){
					
					$delta_time 	= $prev->get_timestamp_ms() - $position->get_timestamp_ms();
					$delta_lat 		= $position->get_latitude() - $prev->get_latitude();
					$delta_long 	= $position->get_longitude() - $prev->get_longitude();
					if(delta_lat <> 0 && $delta_long <> 0){
						$classes[] = "success";
					}
				}
				?>
				<tr class="<?=implode(" ",$classes?>">
					<td>
						<?=date("Y-m-d H:i:s", $position->get_timestamp_ms());?>
					</td>
					<td>
						<?=isset($delta_time)?round($delta_time):'N/A'?> sec
					</td>
					<td>
						<?=$position->get_latitude();?>,<?=$position->get_longitude();?>
					</td>
					<td>
						<?=isset($delta_lat)?$delta_lat:'N/A'?>,<?=isset($delta_long)?$delta_long:'N/A'?>
					</td>
				</tr>
				<?php $prev = $position;?>
			<?php endforeach; ?>
		</tbody>
	</table>
	
	<hr>

	<footer>
		<p>&copy; <?=$this->get_author();?> <?=date("Y");?></p>
	</footer>

</div> <!-- /container -->